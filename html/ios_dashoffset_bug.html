<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>IOS下dashoffset为负数的bug</title>
    <link rel="stylesheet" type="text/css" href="https://res.wx.qq.com/open/libs/weui/0.2.3/weui.css"/>
    <style type="text/css">
        *{
            margin: 0;
        }
        input{
            width: 100%;
        }
        path{
            stroke-width: 5;
            stroke: #4BBCF6;
            fill: none;
            stroke-dasharray: 1101;
        }

        input[type=range] {
            -webkit-appearance: none;
            margin: 18px 0;
            width: 100%;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 8px;
            background: #4BBCF6;
        }
        input[type=range]::-webkit-slider-thumb {
            border: 1px solid #4BBCF6;
            height: 36px;
            width: 20px;
            border-radius: 5px;
            background: #ffffff;
            -webkit-appearance: none;
            margin-top: -14px;
        }
    </style>
</head>
<body ontouchstart>
<svg width="100%" height="320" xmlns="http://www.w3.org/2000/svg">
    <!-- Created with SVG-edit - http://svg-edit.googlecode.com/ -->
    <g>
        <path id="path" d="m199,81c0,-2 0,-4 0,-7c0,-2 -1,-5 -1,-8c0,-2 -0.77023,-4.02675 -1,-5c-0.51373,-2.17625 -1.48627,-2.82375 -2,-5c-0.22977,-0.97325 -0.77023,-2.02675 -1,-3c-0.51373,-2.17625 -1.4588,-3.69344 -2,-5c-0.76538,-1.84776 0,-3 -1,-4c-1,-1 -1.69255,-2.186 -3,-4c-0.8269,-1.14727 -2.61731,-3.07612 -3,-4c-0.5412,-1.30656 -1.69344,-2.4588 -3,-3c-0.92387,-0.38268 -2.06601,-1.87766 -4,-3c-3.11848,-1.80972 -5.47427,-4.14935 -6,-5c-1.17557,-1.90211 -3.07613,-1.61732 -4,-2c-1.30656,-0.5412 -2,-1 -4,-2c-2,-1 -3.96384,-2.11587 -7,-3c-3.95868,-1.15277 -6.54915,-2.95517 -10,-4c-1.91418,-0.57957 -4.58578,0.41422 -6,-1c-0.70711,-0.70711 -2,-1 -4,-2c-2,-1 -3.69344,-1.4588 -5,-2c-0.92387,-0.38268 -3,0 -5,0c-1,0 -2,-1 -3,-1c-1,0 -2,-1 -3,-1c-1,0 -1.82375,-0.48626 -4,-1c-0.97325,-0.22975 -4,0 -7,0c-2,0 -3,0 -5,0c-1,0 -3,0 -4,0c-2,0 -3,0 -4,0c-1,0 -3,0 -4,0c-2,0 -4,0 -6,0c-1,0 -4,0 -5,0c-1,0 -2.07613,-0.38268 -3,0c-1.30656,0.5412 -2,2 -3,2c-1,0 -3,2 -5,3c-2,1 -5,2 -6,3c-1,1 -2.90633,1.1034 -4,2c-2.78832,2.28588 -5.186,2.69255 -7,4c-2.29454,1.65381 -4.82375,3.48626 -7,4c-0.97325,0.22975 -2,1 -2,2c0,1 -1,1 -2,1c-1,0 -1.41886,1.41886 -3,3c-1.58114,1.58114 -3.82443,2.09789 -5,4c-0.52573,0.85065 -1.09789,3.82443 -3,5c-0.85065,0.52573 -2,0 -3,2c-1,2 -1.09789,3.82443 -3,5c-0.85065,0.52573 -2.69255,3.186 -4,5c-1.65381,2.29454 -2.71412,3.21168 -5,6c-1.79319,2.18734 -4,5 -5,7c-1,2 -1.78985,4.07843 -3,7c-0.85571,2.06586 -1,3 -1,4c0,1 -0.4588,2.69344 -1,4c-1.14805,2.77164 -0.49346,4.87856 -1,8c-0.48055,2.96126 0,6 0,9c0,4 0,8 0,13c0,3 0.2074,5.9538 1,10c1.3593,6.93919 2.48626,9.82375 3,12c0.68926,2.91975 1.49346,4.87856 2,8c0.16018,0.98709 1.1731,2.85274 2,4c1.30745,1.814 2,4 3,6c1,2 2.14429,3.93414 3,6c1.21015,2.92157 1.87766,5.06601 3,7c1.80972,3.11848 3.3853,4.77173 8,13c1.09379,1.95029 3.51301,3.59399 5,6c1.66251,2.68999 3.34619,5.70546 5,8c2.61491,3.62799 3.38687,6.9176 6,8c0.92388,0.38269 2.70546,2.34619 5,4c1.814,1.30746 3.186,2.69254 5,4c1.14727,0.8269 1.69344,2.4588 3,3c0.92388,0.38269 1,1 3,1c1,0 1.69344,1.4588 3,2c0.92387,0.38269 3.07613,0.61731 4,1c1.30656,0.5412 1.82375,1.48627 4,2c1.9465,0.4595 4,1 6,2c2,1 5.07843,1.78986 8,3c2.06586,0.85571 4.90283,2.22421 7,3c7.73399,2.86099 11.31001,2.33749 14,4c3.60901,2.2305 8.79025,4.99023 16,6c5.942,0.83221 12,2 18,3c6,1 9.17697,1.34518 14,3c2.11504,0.72568 5,1 6,1c1,0 3.02675,0.77023 4,1c2.17625,0.51373 2.29289,1.29291 3,2c0.70711,0.70709 2.07613,-0.38269 3,0c1.30656,0.5412 1.69344,2.4588 3,3c0.92387,0.38269 1,1 3,3c1,1 1.1731,1.85272 2,3c1.30745,1.814 1.09789,3.82443 3,5c0.85065,0.52573 1.61731,1.07611 2,2c0.5412,1.30655 1,2 2,3c1,1 2,2 2,3c0,1 1,1 2,2c1,1 2,2 2,3c0,1 1,1 1,2c0,1 0.29291,2.29291 1,3c0.70709,0.70709 1.23462,1.15225 2,3c0.5412,1.30655 0.61731,2.07611 1,3c0.5412,1.30655 1,2 1,3c0,1 0.61731,2.07611 1,3c0.5412,1.30655 1,2 1,3c0,1 -0.38269,2.07611 0,3c0.5412,1.30655 0.23462,-0.15225 1,-2c0.5412,-1.30655 1,-3 1,-4c0,-2 0.29291,-2.29291 1,-3c1.41422,-1.41422 1.10339,-3.90634 2,-5c2.28589,-2.78833 2.0979,-5.82443 4,-7c0.85065,-0.52573 2,-1 2,-2c0,-1 1.186,-0.69254 3,-2c1.14728,-0.8269 3,-1 5,-3c1,-1 1.69345,-1.4588 3,-2c1.84775,-0.76538 3.87857,-1.49347 7,-2c1.97418,-0.32037 6.87857,-1.49347 10,-2c3.94836,-0.64072 7.07843,-0.78986 10,-2c2.06586,-0.85571 4.82376,-1.48627 7,-2c1.9465,-0.4595 2.87857,-1.49347 6,-2c0.98709,-0.16019 0.69345,-1.4588 2,-2c0.92389,-0.38269 2.29291,0.70709 3,0c0.70709,-0.70709 0.69345,-2.4588 2,-3c0.92389,-0.38269 1.47427,-0.14935 2,-1c1.17557,-1.9021 3.08026,-0.31073 6,-1c2.17624,-0.51373 4.0979,-1.82443 6,-3c4.25327,-2.62866 5.02676,-2.77023 6,-3c2.17624,-0.51373 3.47427,-1.14935 4,-2c1.17557,-1.9021 4.186,-0.69254 6,-2c1.14728,-0.8269 3,-2 4,-2c1,0 2,-1 3,-1c1,0 0.69345,-1.4588 2,-2c0.92389,-0.38269 2.29291,-0.29291 3,-1c0.70709,-0.70709 1,-1 2,-2c1,-1 2,-2 3,-3c1,-1 1.41885,-1.41885 3,-3c1.58115,-1.58115 5.186,-1.69254 7,-3c2.29453,-1.65381 3.186,-2.69254 5,-4c3.4418,-2.48071 5,-4 6,-5c1,-1 2.61731,-2.07611 3,-3c0.5412,-1.30655 1.4588,-1.69345 2,-3c0.38269,-0.92389 0.61731,-1.07611 1,-2c0.5412,-1.30655 1.23462,-2.15225 2,-4c0.5412,-1.30655 3.48627,-4.82376 4,-7c0.4595,-1.9465 1.22421,-2.90283 2,-5c1.43048,-3.867 1,-5 2,-7c1,-2 1.77023,-4.02675 2,-5c0.51373,-2.17625 0.61731,-4.07613 1,-5c0.5412,-1.30656 0.67963,-3.02582 1,-5c0.50653,-3.12144 1,-5 1,-7c0,-2 0.49347,-5.87856 1,-9c0.16019,-0.98709 0,-3 0,-4c0,-2 0,-4 0,-6c0,-2 0,-4 0,-5c0,-2 1.41422,-3.58578 0,-5c-0.70709,-0.70711 -0.77023,-2.02675 -1,-3c-0.51373,-2.17625 -1,-3 -1,-5c0,-2 -0.23462,-3.15224 -1,-5c-0.5412,-1.30656 -1.48627,-1.82375 -2,-4c-0.22977,-0.97325 -0.61731,-3.07613 -1,-4c-0.5412,-1.30656 -2.48627,-1.82375 -3,-4c-0.22977,-0.97325 -0.29291,-1.29289 -1,-2c-1.41422,-1.41422 -1,-3 -2,-5c-1,-2 -2.4588,-2.69344 -3,-4c-0.38269,-0.92387 -1,-3 -2,-5c-1,-2 -2,-5 -3,-7c-1,-2 -3,-5 -4,-6c-2,-2 -3.1731,-2.85274 -4,-4c-1.30746,-1.814 -3.14935,-5.47427 -4,-6c-1.9021,-1.17557 -0.69254,-3.186 -2,-5c-0.8269,-1.14727 -1.1731,-1.85273 -2,-3c-1.30746,-1.814 -1.29291,-3.29289 -2,-4c-0.70709,-0.70711 -2,-2 -2,-3c0,-1 -0.69345,-1.4588 -2,-2c-0.92389,-0.38268 -0.61731,-1.07612 -1,-2c-0.5412,-1.30656 -1.85272,-2.1731 -3,-3c-1.814,-1.30745 -2.4588,-1.69344 -3,-3c-0.38269,-0.92388 -1.07611,-1.61732 -2,-2c-1.30655,-0.5412 -1.29291,-1.29289 -2,-2c-1.41422,-1.41422 -2.69345,-1.4588 -4,-2c-0.92389,-0.38268 -1.87857,-0.49346 -5,-1c-0.98709,-0.16018 -1.69345,-0.4588 -3,-1c-0.92389,-0.38268 -2,0 -3,0c-1,0 -2,0 -3,0c-2,0 -3.82376,-0.48626 -6,-1c-2.91974,-0.68926 -5,0 -7,0c-1,0 -2,0 -3,0c-1,0 -2,0 -4,0c-2,0 -4,0 -5,0c-2,0 -3.07611,-0.38268 -4,0c-1.30655,0.5412 -2.82376,1.48626 -5,2c-1.9465,0.4595 -3.64749,1.97251 -8,3c-1.9465,0.4595 -3.02676,0.77025 -4,1c-2.17624,0.51374 -3.15225,1.23463 -5,2c-1.30655,0.5412 -2,2 -3,2c-1,0 -1.69254,1.186 -3,3c-0.8269,1.14727 -1.29291,2.29289 -2,3c-0.70709,0.70711 -2.4588,0.69344 -3,2c-0.38269,0.92388 -2,3 -3,4c-1,1 -1.29291,1.29289 -2,2c-1.41422,1.41422 -1.29291,1.29289 -2,2c-0.70709,0.70711 0.30746,2.186 -1,4c-0.8269,1.14726 -1.29291,1.29289 -2,2c-0.70709,0.70711 -0.61731,2.07613 -1,3c-0.5412,1.30656 -1,2 -1,3c0,1 0,2 -1,3c-1,1 -1.29291,1.29289 -2,2c-0.70709,0.70711 -0.29291,1.29289 -1,2c-0.70709,0.70711 0,2 -1,3c-1,1 -1.61731,1.07613 -2,2c-0.5412,1.30656 -2,2 -2,3c0,1 -1.29291,0.29289 -2,1c-0.70709,0.70711 -1,1 -1,2l-1,0l0,1"/>
    </g>
</svg>
<p>dashoffset: <span id="value">0</span></p>
<input id="input" type="range" step="1" max="1101" min="-1101">
<script type="text/javascript">
    !function(){
        var input = document.getElementById("input"), path = document.getElementById("path"), value = document.getElementById("value");
        input.addEventListener("input", function(){
            path.style.strokeDashoffset = this.value;
            value.innerHTML = this.value;
        });
    }();
</script>
</body>
</html>